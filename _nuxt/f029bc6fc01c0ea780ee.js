/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{172:function(t,e,a){var o,s;!function(i){if(void 0===(s="function"==typeof(o=i)?o.call(e,a,e,t):o)||(t.exports=s),!0,t.exports=i(),!!0){var r=window.Cookies,n=window.Cookies=i();n.noConflict=function(){return window.Cookies=r,n}}}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var a=arguments[t];for(var o in a)e[o]=a[o]}return e}return function e(a){function o(e,s,i){var r;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(i=t({path:"/"},o.defaults,i)).expires){var n=new Date;n.setMilliseconds(n.getMilliseconds()+864e5*i.expires),i.expires=n}i.expires=i.expires?i.expires.toUTCString():"";try{r=JSON.stringify(s),/^[\{\[]/.test(r)&&(s=r)}catch(t){}s=a.write?a.write(s,e):encodeURIComponent(String(s)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var c="";for(var l in i)i[l]&&(c+="; "+l,!0!==i[l]&&(c+="="+i[l]));return document.cookie=e+"="+s+c}e||(r={});for(var d=document.cookie?document.cookie.split("; "):[],p=/(%[0-9A-Z]{2})+/g,f=0;f<d.length;f++){var u=d[f].split("="),v=u.slice(1).join("=");this.json||'"'!==v.charAt(0)||(v=v.slice(1,-1));try{var m=u[0].replace(p,decodeURIComponent);if(v=a.read?a.read(v,m):a(v,m)||v.replace(p,decodeURIComponent),this.json)try{v=JSON.parse(v)}catch(t){}if(e===m){r=v;break}e||(r[m]=v)}catch(t){}}return r}}return o.set=o,o.get=function(t){return o.call(o,t)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(e,a){o(e,"",t(a,{expires:-1}))},o.withConverter=e,o}(function(){})})},174:function(t,e,a){var o=a(178);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(47).default)("34fee6f4",o,!0,{})},177:function(t,e,a){"use strict";var o=a(174);a.n(o).a},178:function(t,e,a){(t.exports=a(46)(!1)).push([t.i,"body[data-v-5f1ebf3e]{background-color:#f4f4f4}.container[data-v-5f1ebf3e]{position:relative;max-width:1300px;margin:0 auto}.page-title[data-v-5f1ebf3e]{text-transform:uppercase;margin-bottom:15px}.projects[data-v-5f1ebf3e]{list-style:none;padding-left:0;max-width:600px;margin:0 auto}.project-item[data-v-5f1ebf3e]{display:flex;flex-wrap:wrap;align-items:center;cursor:pointer;background-color:#fff;border-radius:3px;border:1px solid #dedede;padding:18px 20px 20px 25px;margin-bottom:15px}.project-item[data-v-5f1ebf3e]:last-of-type{margin-bottom:0}.project-item[data-v-5f1ebf3e]:hover{background:#ececec}.project-item__block[data-v-5f1ebf3e]{flex:1;margin-right:10px}.project-item__block[data-v-5f1ebf3e]:last-of-type{margin-right:0}.project-item__block--logo[data-v-5f1ebf3e]{max-width:65px}.project-item__block--name[data-v-5f1ebf3e]{flex:2}.project-item__block--status[data-v-5f1ebf3e]{text-align:center}.project-item__block--stats[data-v-5f1ebf3e]{flex:2;margin-left:32px;min-width:162px}.default-avatar[data-v-5f1ebf3e]{display:inline-flex;height:40px;width:40px;font-size:17px;background:#ed874f;border-radius:50%;justify-content:center;align-items:center;color:#fff;text-transform:uppercase}.project-status.active[data-v-5f1ebf3e]{color:green}.project-status.inactive[data-v-5f1ebf3e]{color:#d83c3c}.edit-modal[data-v-5f1ebf3e]{position:fixed;top:0;left:0;right:0;bottom:0;z-index:9999}.edit-modal__inner[data-v-5f1ebf3e]{position:absolute;top:50%;left:50%;width:600px;padding:20px;color:#000;background:#fff;box-shadow:0 0 5px 0 rgba(0,0,0,.44);-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.form-edit-field[data-v-5f1ebf3e]{padding:10px}.edit-form-label[data-v-5f1ebf3e]{display:inline-block;margin-right:25px}.edit-fields[data-v-5f1ebf3e]{display:flex;align-items:center;margin-bottom:25px}.controls[data-v-5f1ebf3e]{display:flex;flex-wrap:wrap;justify-content:flex-end}.controls-btn[data-v-5f1ebf3e]{margin-left:15px;min-width:90px;border:none;cursor:pointer;text-transform:uppercase;height:34px;padding:0 15px;border-radius:4px}.controls-btn[data-v-5f1ebf3e]:hover{opacity:.7}.controls-btn--back[data-v-5f1ebf3e]{background-color:#cecece;border:1px solid #bebebe;text-shadow:1px 1px 0 #ccc}.controls-btn--save[data-v-5f1ebf3e]{margin-right:0;color:#fff;background:#395378}.stats-list[data-v-5f1ebf3e]{padding-left:0}.stats-row[data-v-5f1ebf3e]{display:flex;flex-wrap:wrap;justify-content:space-between}.logo[data-v-5f1ebf3e]{-o-object-fit:cover;object-fit:cover}",""])},179:function(t,e,a){"use strict";a.r(e);a(31),a(25),a(45);var o=a(6),s=a.n(o),i=a(90),r=a.n(i),n=a(172),c={middleware:"authenticated",data:function(){return{projects:[],updateProjectModalSettings:{show:!1,project:null,index:void 0,data:{}}}},methods:{getProjects:function(){var t=s()(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.get("https://api.quwi.com/v2/projects",{headers:{Authorization:"Bearer ".concat(this.$store.state.auth?this.$store.state.auth.accessToken:"")}});case 2:e=t.sent,this.projects=e.data.projects;case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),openEditModal:function(){var t=s()(regeneratorRuntime.mark(function t(e,a){var o,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateProjectModalSettings.project=e,this.updateProjectModalSettings.index=a,t.prev=2,t.next=5,r.a.get("https://api.quwi.com/v2/projects-manage/".concat(e.id),{headers:{Authorization:"Bearer ".concat(this.$store.state.auth?this.$store.state.auth.accessToken:"")}});case 5:o=t.sent,this.updateProjectModalSettings.data=o.data.project,this.$nextTick(function(){s.updateProjectModalSettings.show=!0}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log("error",t.t0);case 13:case"end":return t.stop()}},t,this,[[2,10]])}));return function(e,a){return t.apply(this,arguments)}}(),editName:function(t){var e=t.currentTarget.value;e&&this.$set(this.updateProjectModalSettings.data,"name",e)},editProject:function(){var t=s()(regeneratorRuntime.mark(function t(e,a){var o,s,i=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.updateProjectModalSettings.data.name,t.prev=1,t.next=4,r.a.put("https://api.quwi.com/v2/projects-manage/update?id=".concat(e.id),{name:o},{headers:{Authorization:"Bearer ".concat(this.$store.state.auth?this.$store.state.auth.accessToken:"")}});case 4:s=t.sent,Object.assign(this.projects[a],s.data.project),this.$nextTick(function(){return i.updateProjectModalSettings.show=!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("test",t.t0);case 12:case"end":return t.stop()}},t,this,[[1,9]])}));return function(e,a){return t.apply(this,arguments)}}(),closeEditModal:function(){this.updateProjectModalSettings.show=!1},logout:function(){this.$store.commit("setAuth",null),n.remove("auth"),this.$router.push("/login")}},mounted:function(){this.getProjects()}},l=(a(177),a(22)),d=Object(l.a)(c,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"container"},[a("h1",{staticClass:"page-title"},[t._v("Homepage")]),t._v(" "),a("button",{attrs:{type:"button"},on:{click:t.logout}},[t._v("Logout")]),t._v(" "),t.projects&&t.projects.length?a("ul",{staticClass:"projects"},t._l(t.projects,function(e,o){return a("li",{key:e.id,staticClass:"project-item",on:{click:function(a){t.openEditModal(e,o)}}},[a("div",{staticClass:"project-item__block project-item__block--logo"},[e.logo?a("img",{staticClass:"logo",attrs:{src:e.logo,alt:e.name,width:"40px",height:"40px"}}):a("div",{staticClass:"default-avatar"},[t._v(t._s(e.name?e.name.charAt(0):""))])]),t._v(" "),a("div",{staticClass:"project-item__block project-item__block--name"},[t._v("\n        "+t._s(e.name)+"\n      ")]),t._v(" "),a("div",{staticClass:"project-item__block project-item__block--status"},[a("div",{staticClass:"project-status",class:{active:e.is_active,inactive:!e.is_active}},[t._v(t._s(e.is_active?"Active":"Inactive"))]),t._v(" "),a("div",{staticClass:"users-status"},[e.users&&e.users.length?[t._v("\n            "+t._s(e.users.length)+"\n          ")]:[t._v("No users")]],2)]),t._v(" "),a("div",{staticClass:"project-item__block project-item__block--stats"},[a("ul",{staticClass:"stats-list"},[a("li",{staticClass:"stats-row"},[a("span",{staticClass:"stats-row__title"},[t._v("time this week")]),t._v(" "),a("span",{staticClass:"stats-row__value"},[t._v(t._s(e.spent_time_week))])]),t._v(" "),a("li",{staticClass:"stats-row"},[a("span",{staticClass:"stats-row__title"},[t._v("time this month")]),t._v(" "),a("span",{staticClass:"stats-row__value"},[t._v(t._s(e.spent_time_month))])]),t._v(" "),a("li",{staticClass:"stats-row"},[a("span",{staticClass:"stats-row__title"},[t._v("total")]),t._v(" "),a("span",{staticClass:"stats-row__value"},[t._v(t._s(e.spent_time_all))])])])])])}),0):t._e(),t._v(" "),t.updateProjectModalSettings.show?a("div",{staticClass:"edit-modal"},[a("div",{staticClass:"edit-modal__inner"},[a("form",{staticClass:"edit-project-form",attrs:{action:"#",id:"edit-project-form"}},[a("div",{staticClass:"edit-fields"},[a("label",{staticClass:"edit-form-label",attrs:{for:"edit-name"}},[t._v("Name")]),t._v(" "),a("input",{ref:"edit-name-input",staticClass:"form-edit-field",attrs:{type:"text",id:"edit-name",name:"name"},domProps:{value:t.updateProjectModalSettings.project.name},on:{change:t.editName}})]),t._v(" "),a("div",{staticClass:"controls"},[a("button",{staticClass:"controls-btn controls-btn--back",attrs:{type:"button"},on:{click:t.closeEditModal}},[t._v("Back")]),t._v(" "),a("button",{staticClass:"controls-btn controls-btn--save",attrs:{type:"button"},on:{click:function(e){t.editProject(t.updateProjectModalSettings.project,t.updateProjectModalSettings.index)}}},[t._v("Save")])])])])]):t._e()])},[],!1,null,"5f1ebf3e",null);d.options.__file="index.vue";e.default=d.exports}}]);